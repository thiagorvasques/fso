{"version":3,"sources":["Form.js","Filter.js","Numbers.js","services/persons.js","Notification.js","App.js","index.js"],"names":["Form","props","type","value","newName","onChange","e","handleNewName","required","newNumber","handleNewNumber","onClick","handleNewPerson","Filter","searchName","Numbers","nameSearch","persons","results","deletePerson","length","map","person","console","log","name","number","index","id","baseURL","axios","get","newObject","post","delete","put","Notification","message","deleteMessage","useEffect","timer","setTimeout","clearTimeout","className","App","useState","setPersons","setNewName","setNewNumber","setNameSearch","setResults","setMessage","services","then","response","data","updatePerson","arr","updated","catch","err","createNewPerson","newPerson","concat","error","preventDefault","target","filter","toLowerCase","includes","inArray","trim","window","confirm","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.92309eab.chunk.js","sourcesContent":["import React from \"react\";\n\nfunction Form(props) {\n  return (\n    <form>\n      <h2>Add New</h2>\n      <div>\n        name:\n        <input\n          type=\"text\"\n          value={props.newName}\n          onChange={(e) => props.handleNewName(e)}\n          required\n        />\n      </div>\n      <div>\n        number:\n        <input\n          type=\"text\"\n          value={props.newNumber}\n          onChange={(e) => props.handleNewNumber(e)}\n          required\n        />\n      </div>\n      <div>\n        <button type=\"submit\" onClick={(e) => props.handleNewPerson(e)}>\n          add\n        </button>\n      </div>\n    </form>\n  );\n}\n\nexport default Form;\n","import React from \"react\";\n\nfunction Filter(props) {\n  return (\n    <div>\n      filter shown with:\n      <input type=\"text\" onChange={(e) => props.searchName(e)}></input>\n    </div>\n  );\n}\n\nexport default Filter;\n","import React from \"react\";\n\nfunction Numbers({ nameSearch, persons, results, deletePerson }) {\n  return (\n    <div>\n      <h2>Numbers</h2>\n      {nameSearch.length > 0\n        ? results.map((person) => {\n            console.log(person);\n            return (\n              <div key={person.name}>\n                {person.name}: {person.number}\n              </div>\n            );\n          })\n        : persons.map((person, index) => {\n            return (\n              <div key={person.name}>\n                {person.name}: {person.number}{\" \"}\n                <button\n                  type=\"button\"\n                  onClick={() => deletePerson(person.id, index)}\n                >\n                  Delete\n                </button>\n              </div>\n            );\n          })}\n    </div>\n  );\n}\n\nexport default Numbers;\n","import axios from \"axios\";\n\nconst baseURL = \"/api/persons\";\n\nconst getAll = () => {\n  return axios.get(baseURL);\n};\n\nconst create = (newObject) => {\n  return axios.post(baseURL, newObject);\n};\n\nconst deletePerson = (id) => {\n  return axios.delete(`${baseURL}/${id}`);\n};\n\nconst update = (id, newObject) => {\n  return axios.put(`${baseURL}/${id}`, newObject);\n};\n\n// eslint-disable-next-line import/no-anonymous-default-export\nexport default { getAll, create, deletePerson, update };\n","import React, { useEffect } from \"react\";\n\nfunction Notification({ message, deleteMessage }) {\n  console.log(message);\n\n  useEffect(() => {\n    const timer = setTimeout(() => deleteMessage(), 5000);\n    return () => {\n      clearTimeout(timer);\n    };\n  }, [deleteMessage, message]);\n\n  if (message === null) {\n    return null;\n  }\n\n  return <div className=\"error\">{message}</div>;\n}\n\nexport default Notification;\n","import React, { useState, useEffect } from \"react\";\nimport Form from \"./Form\";\nimport Filter from \"./Filter\";\nimport Numbers from \"./Numbers\";\nimport services from \"./services/persons\";\nimport Notification from \"./Notification\";\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState(\"\");\n  const [newNumber, setNewNumber] = useState(\"\");\n  const [nameSearch, setNameSearch] = useState(\"\");\n  const [results, setResults] = useState([]);\n  const [message, setMessage] = useState(\"\");\n\n  useEffect(() => {\n    services.getAll().then((response) => {\n      console.log(response);\n      setPersons(response.data);\n    });\n  }, []);\n\n  const handleNewName = (e) => {\n    setNewName(e.target.value);\n  };\n  const handleNewNumber = (e) => {\n    setNewNumber(e.target.value);\n  };\n  const handleNewPerson = (e) => {\n    e.preventDefault();\n    //check name in array\n    const inArray = persons.filter(\n      (person) =>\n        person.name.toLowerCase().trim() === newName.toLowerCase().trim()\n    );\n    console.log(inArray);\n    if (inArray.length >= 1) {\n      const confirm = window.confirm(\n        `${newName} is already added to phonebook, replace the old number with a new one?`\n      );\n      if (confirm) {\n        const updated = { ...inArray[0], number: newNumber };\n        updatePerson(inArray, updated);\n      }\n    } else {\n      //setPersons(persons.concat({ name: newName, number: newNumber }));\n      const newPerson = { name: newName, number: newNumber };\n      createNewPerson(newPerson);\n    }\n  };\n\n  const searchName = (e) => {\n    e.preventDefault();\n    setNameSearch(e.target.value);\n    setResults(\n      persons.filter((person) => {\n        return person.name.toLowerCase().includes(nameSearch.toLowerCase());\n      })\n    );\n  };\n\n  const deletePerson = (id, index) => {\n    if (window.confirm(`Delete ${persons[index].name}?`)) {\n      services\n        .deletePerson(id)\n        .then((response) => {\n          console.log(response);\n          setPersons(\n            persons.filter((person) => {\n              console.log(person.id, typeof person.id, id, typeof id);\n              return id !== person.id;\n            })\n          );\n          setMessage(`${persons[index].name} was deleted.`);\n        })\n        .catch((err) => {\n          console.log(err);\n          setMessage(`${persons[index].name} was already deleted`);\n        });\n    }\n  };\n\n  const updatePerson = (arr, updated) => {\n    services\n      .update(arr[0].id, updated)\n      .then((response) => {\n        //console.log(response);\n        setPersons(\n          persons.map((person) => (person.id !== arr[0].id ? person : updated))\n        );\n        setNewName(\"\");\n        setNewNumber(\"\");\n        setMessage(`${updated.name}Â´s number updated`);\n      })\n      .catch((err) => {\n        console.log(err);\n        setMessage(`information of ${updated.name} has already been removed`);\n      });\n  };\n\n  const createNewPerson = (newPerson) => {\n    services\n      .create(newPerson)\n      .then((response) => setPersons(persons.concat(response.data)))\n      .catch((err) => {\n        console.log(err.response.data.error);\n        setMessage(err.response.data.error);\n      });\n    setNewName(\"\");\n    setNewNumber(\"\");\n    setMessage(`${newName} added to list`);\n  };\n\n  const deleteMessage = () => {\n    setMessage(\"\");\n  };\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification deleteMessage={deleteMessage} message={message} />\n      <Filter searchName={searchName} />\n      <Form\n        handleNewName={handleNewName}\n        handleNewNumber={handleNewNumber}\n        handleNewPerson={handleNewPerson}\n        newName={newName}\n        newNumber={newNumber}\n      />\n      <Numbers\n        nameSearch={nameSearch}\n        results={results}\n        persons={persons}\n        deletePerson={deletePerson}\n      />\n    </div>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport \"./index.css\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}